# Extracts a tibble from the windows_efficiencies data frame for the given
# subject and topic, sorted by the marker in ascending order.
#
# Note that the returned data frame does not contain the subject or topic name
getTopicTimeSeries <- function( subject, topic ) {
print( paste( "Extracting sub df for sub=", subject, ", topic=", topic ) )
topic_ts_df <- window_efficiencies %>%
filter( subject_name == subject, topic_name == topic ) %>%
select( marker, num_questions, num_correct, num_wrong, num_rc_c, num_rc_b, efficiency ) %>%
arrange( marker )
return (topic_ts_df)
}
topic_timeseries <- getTopicTimeSeries( subject, topic )
# Extracts a tibble from the windows_efficiencies data frame for the given
# subject and topic, sorted by the marker in ascending order.
#
# Note that the returned data frame does not contain the subject or topic name
getTopicTimeSeries <- function( subject, topic ) {
print( paste( "Extracting sub df for sub=", subject, ", topic=", topic ) )
topic_ts_df <- window_efficiencies %>%
filter( subject_name == subject, topic_name == topic ) %>%
select( marker, num_questions, num_correct, num_wrong, num_rc_c, num_rc_b, efficiency ) %>%
ungroup() %>%
arrange( marker )
return (topic_ts_df)
}
topic_timeseries <- getTopicTimeSeries( subject, topic )
source('~/projects/source/JEEPrepAnalysis/R/10_test_data_analysis.R', echo=TRUE)
# Analyzes efficiencies for all topics of the questions attempted between the
# provided start and end dates. The analyzed dataframe that is returned has the
# same structure as the 'window_efficiencies' data frame.
#
# This function is called repeatedly for all the time windows.
analyzeDataInRange <- function( startDate, endDate ) {
print( paste( "Analyzing data for time range -", startDate, "till", endDate ) )
df = attempt_details %>%
# Filter only those rows within the date range
filter( between( as.Date( date_attempted ), startDate, endDate ) ) %>%
# Select a subset of attributes relevant for analysis
select( date_attempted, subject_name, topic_name, is_correct, root_cause, time_spent ) %>%
# Sort the tibble
arrange( subject_name, topic_name, is_correct, root_cause ) %>%
# Classify the error rrot cause as competence or behavior oriented
mutate( rc_attribution = ifelse( !is_correct & root_cause %in% RC$competence, "RC_C",
ifelse( !is_correct & root_cause %in% RC$behavioral, "RC_B", "" ) ) ) %>%
# Group data by subject and topic - we want to keep analysis at a topic level
group_by( subject_name, topic_name ) %>%
# Create some aggreated group summaries
summarise( num_questions = n(),
num_correct = sum( is_correct == 1 ),
num_wrong = sum( is_correct == 0 ),
num_rc_c = sum( rc_attribution == "RC_C" ),
num_rc_b = sum( rc_attribution == "RC_B" ) ) %>%
# Filter out any rows where all errors are behavioral errors and there
# are no correct answers. This is to prevent a division by zero during
# later analysis
filter( (num_questions - num_rc_b) > 0 ) %>%
# Compute efficiency - note that we are ignoring
mutate( efficiency = (num_correct / (num_questions - num_rc_b))*100,
marker = endDate ) %>%
# Ungroup the data frame
ungroup() %>%
# Sort the data frame
arrange( subject_name, efficiency )
return( df[, c(9,1,2,3,4,5,6,7,8)] )
}
source('~/projects/source/JEEPrepAnalysis/R/10_test_data_analysis.R', echo=TRUE)
library(ggplot2)
source('~/projects/source/JEEPrepAnalysis/R/10_test_data_analysis.R', echo=TRUE)
source('~/projects/source/JEEPrepAnalysis/R/10_test_data_analysis.R', echo=TRUE)
ggplot( data = tsDF,
aes(x = marker, y = efficiency)) +
geom_point() +
geom_line() +
labs( title = topicName,
subtitle = subjectName,
x = "Date",
y = "Efficiency" )
ggplot( data = topic_timeseries,
aes(x = marker, y = efficiency)) +
geom_point() +
geom_line() +
labs( title = topicName,
subtitle = subjectName,
x = "Date",
y = "Efficiency" )
ggplot( data = topic_timeseries,
aes(x = marker, y = efficiency)) +
geom_point() +
geom_line() +
labs( title = topic,
subtitle = subject,
x = "Date",
y = "Efficiency" )
ggplot( topic_timeseries )  +
geom_bar( aes( x=marker, y=efficiency ), stat="identity", fill="tan1", colour="sienna3" )
ggplot( topic_timeseries )  +
geom_bar( aes( x=marker, y=num_questions ), stat="identity", fill="tan1", colour="sienna3" )
ggplot( topic_timeseries )  +
geom_bar( aes( x=marker, y=num_questions ), stat="identity", fill="tan1", colour="sienna3" ) +
geom_line( aes( x=marker, y=efficiency ), state="identity" )
ggplot( topic_timeseries )  +
geom_bar( aes( x=marker, y=num_questions ), stat="identity", fill="tan1", colour="sienna3" ) +
geom_line( aes( x=marker, y=efficiency ), state="identity" ) +
scale_y_continuous( sec.axis = sec_axis(~./max( topic_timeseries$efficiency ) ) )
ggplot( topic_timeseries )  +
geom_bar( aes( x=marker, y=num_questions ), stat="identity", fill="tan1", colour="sienna3" ) +
geom_line( aes( x=marker, y=efficiency ), stat="identity" ) +
scale_y_continuous( sec.axis = sec_axis(~./max( topic_timeseries$efficiency ) ) )
ggplot( topic_timeseries )  +
geom_bar( aes( x=marker, y=num_questions ), stat="identity", fill="tan1", colour="sienna3" ) +
geom_line( aes( x=marker, y=efficiency ), stat="identity" ) +
scale_y_continuous( sec.axis = sec_axis(~./max( topic_timeseries$num_questions ) ) )
subject <- "IIT - Chemistry"
topic <- "Organic Compounds Containing Oxygen"
topic_timeseries <- getTopicTimeSeries( subject, topic )
ggplot( topic_timeseries )  +
geom_bar( aes( x=marker, y=num_questions ), stat="identity", fill="tan1", colour="sienna3" ) +
geom_line( aes( x=marker, y=efficiency ), stat="identity" ) +
scale_y_continuous( sec.axis = sec_axis( ~./max( topic_timeseries$num_questions ) ) )
ggplot( topic_timeseries )  +
geom_bar( aes( x=marker, y=num_questions ), fill="tan1", colour="sienna3" ) +
geom_line( aes( x=marker, y=efficiency ) ) +
scale_y_continuous( sec.axis = sec_axis( ~./max( topic_timeseries$num_questions ) ) )
, stat="identity"
stat="identity",
ggplot( topic_timeseries )  +
geom_bar( aes( x=marker, y=num_questions ), stat="identity", fill="tan1", colour="sienna3" ) +
geom_line( aes( x=marker, y=efficiency ), stat="identity" ) +
scale_y_continuous( sec.axis = sec_axis( ~./max( topic_timeseries$num_questions ) ) )
ggplot( topic_timeseries )  +
geom_bar( aes( x=marker, y=num_questions ), stat="identity", fill="tan1", colour="sienna3" ) +
geom_line( aes( x=marker, y=efficiency ), stat="identity" )
ggplot( topic_timeseries, aes( x=marker ) )  +
geom_bar( aes( y=num_questions ), stat="identity", fill="tan1", colour="sienna3" ) +
geom_line( aes( y=efficiency ), stat="identity" )
ggplot( topic_timeseries, aes( x=marker ) )  +
geom_bar( aes( y=num_questions ), stat="identity", fill="tan1", colour="sienna3" ) +
geom_line( aes( y=efficiency ), stat="identity" ) +
scale_y_continuous( sec.axis = sec_axis(~.) )
ggplot( topic_timeseries, aes( x=marker ) )  +
geom_bar( aes( y=num_questions ), stat="identity", fill="tan1", colour="sienna3" ) +
geom_line( aes( y=efficiency ), stat="identity" ) +
scale_y_continuous( sec.axis = sec_axis(~./max( topic_timeseries$num_questions ) ) )
ggplot( topic_timeseries, aes( x=marker ) )  +
geom_bar( aes( y=num_questions*100/max( topic_timeseries$num_questions ) ), stat="identity", fill="tan1", colour="sienna3" ) +
geom_line( aes( y=efficiency ), stat="identity" ) +
scale_y_continuous( sec.axis = sec_axis(~./max( topic_timeseries$num_questions ) ) )
ggplot( topic_timeseries, aes( x=marker ) )  +
geom_bar( aes( y=num_questions*100/max( topic_timeseries$num_questions ) ), stat="identity", fill="tan1", colour="sienna3" ) +
geom_line( aes( y=efficiency ), stat="identity" ) +
scale_y_continuous( sec.axis = sec_axis(~./(max( topic_timeseries$num_questions )/100) ) )
ggplot( topic_timeseries, aes( x=marker ) )  +
geom_bar( aes( y=num_questions*100/max( topic_timeseries$num_questions ) ), stat="identity", fill="tan1", colour="sienna3" ) +
geom_line( aes( y=efficiency ), stat="identity" ) +
scale_y_continuous( sec.axis = sec_axis(~./(100/max( topic_timeseries$num_questions )) ) )
ggplot( topic_timeseries, aes( x=marker ) )  +
geom_bar( aes( y=num_questions*100/max( topic_timeseries$num_questions ) ), stat="identity", colour="sienna3" ) +
geom_line( aes( y=efficiency ), stat="identity" ) +
scale_y_continuous( sec.axis = sec_axis(~./(100/max( topic_timeseries$num_questions )) ) )
ggplot( topic_timeseries, aes( x=marker ) )  +
geom_bar( aes( y=num_questions*100/max( topic_timeseries$num_questions ) ), stat="identity", fill="white", colour="sienna3" ) +
geom_line( aes( y=efficiency ), stat="identity" ) +
scale_y_continuous( sec.axis = sec_axis(~./(100/max( topic_timeseries$num_questions )) ) )
ggplot( topic_timeseries, aes( x=marker ) )  +
geom_bar( aes( y=num_questions*100/max( topic_timeseries$num_questions ) ), stat="identity", fill="white", colour="grey" ) +
geom_line( aes( y=efficiency ), stat="identity" ) +
scale_y_continuous( sec.axis = sec_axis(~./(100/max( topic_timeseries$num_questions )) ) )
ggplot( topic_timeseries, aes( x=marker ) )  +
geom_bar( aes( y=num_questions*100/max( topic_timeseries$num_questions ) ), stat="identity", fill="white", colour="grey" ) +
geom_line( aes( y=efficiency ), stat="identity" ) +
scale_y_continuous( sec.axis = sec_axis(~./(100/max( topic_timeseries$num_questions )), name="XXX" ) )
ggplot( topic_timeseries, aes( x=marker ) )  +
geom_bar( aes( y=num_questions*100/max( topic_timeseries$num_questions ) ), stat="identity", fill="white", colour="grey" ) +
geom_line( aes( y=efficiency ), stat="identity" ) +
scale_y_continuous( sec.axis = sec_axis(~./(100/max( topic_timeseries$num_questions )), name="Num questions" ) )
View(window_efficiencies)
subject <- "IIT - Chemistry"
topic <- "Periodic Table"
topic_timeseries <- getTopicTimeSeries( subject, topic )
ggplot( topic_timeseries, aes( x=marker ) )  +
geom_bar( aes( y=num_questions*100/max( topic_timeseries$num_questions ) ), stat="identity", fill="white", colour="grey" ) +
geom_line( aes( y=efficiency ), stat="identity" ) +
scale_y_continuous( sec.axis = sec_axis(~./(100/max( topic_timeseries$num_questions )), name="Num questions" ) )
ggplot( topic_timeseries, aes( x=marker ) )  +
geom_bar( aes( y=num_questions*100/max( topic_timeseries$num_questions ) ), stat="identity", fill="white", colour="grey" ) +
geom_line( aes( y=efficiency ), stat="identity", color="green" ) +
scale_y_continuous( sec.axis = sec_axis(~./(100/max( topic_timeseries$num_questions )), name="Num questions" ) )
ggplot( topic_timeseries, aes( x=marker ) )  +
geom_bar( aes( y=num_questions*100/max( topic_timeseries$num_questions ) ), stat="identity", fill="white", colour="grey" ) +
geom_line( aes( y=efficiency ), stat="identity", color="blue" ) +
scale_y_continuous( sec.axis = sec_axis(~./(100/max( topic_timeseries$num_questions )), name="Num questions" ) )
ggplot( topic_timeseries, aes( x=marker ) )  +
geom_bar( aes( y=num_questions*100/max( topic_timeseries$num_questions ) ), stat="identity", fill="white", colour="grey" ) +
geom_line( aes( y=efficiency ), stat="identity", color="blue" ) +
geom_point( aes( y=efficiency ) ) +
scale_y_continuous( sec.axis = sec_axis(~./(100/max( topic_timeseries$num_questions )), name="Num questions" ) )
ggplot( topic_timeseries, aes( x=marker ) )  +
geom_bar( aes( y=num_questions*100/max( topic_timeseries$num_questions ) ), stat="identity", fill="white", colour="grey" ) +
geom_line( aes( y=efficiency ), stat="identity", color="blue" ) +
geom_point( aes( y=efficiency ) ) +
scale_y_continuous( sec.axis = sec_axis(~./(100/max( topic_timeseries$num_questions )), name="Num questions" ) ) +
labs( title = topic,
subtitle = subject,
x = "Date",
y = "Efficiency" )
ggplot( topic_timeseries, aes( x=marker ) )  +
geom_bar( aes( y=num_questions*100/max( topic_timeseries$num_questions ) ), stat="identity", fill="white", colour="grey" ) +
geom_line( aes( y=efficiency ), stat="identity", color="blue" ) +
geom_point( aes( y=efficiency ) ) +
scale_y_continuous( sec.axis = sec_axis(~./(100/max( topic_timeseries$num_questions )), name="Num questions" ) ) +
labs( title = topic,
subtitle = subject,
x = "Date",
y = "Efficiency" ) +
theme( plot.title = element_text( hjust = 0.5 ) )
ggplot( topic_timeseries, aes( x=marker ) )  +
geom_bar( aes( y=num_questions*100/max( topic_timeseries$num_questions ) ), stat="identity", fill="white", colour="grey" ) +
geom_line( aes( y=efficiency ), stat="identity", color="blue" ) +
geom_point( aes( y=efficiency ) ) +
scale_y_continuous( sec.axis = sec_axis(~./(100/max( topic_timeseries$num_questions )), name="Num questions" ) ) +
labs( title = topic,
subtitle = subject,
x = "Date",
y = "Efficiency" ) +
theme( plot.title = element_text( hjust = 0.5 ),
plot.subtitle = element_text( hjust = 0.5 ) )
ggplot( topic_timeseries, aes( x=marker ) )  +
scale_x_date( date_labels = "%b/%d" ) +
geom_bar( aes( y=num_questions*100/max( topic_timeseries$num_questions ) ), stat="identity", fill="white", colour="grey" ) +
geom_line( aes( y=efficiency ), stat="identity", color="blue" ) +
geom_point( aes( y=efficiency ) ) +
scale_y_continuous( sec.axis = sec_axis(~./(100/max( topic_timeseries$num_questions )), name="Num questions" ) ) +
labs( title = topic,
subtitle = subject,
x = "Date",
y = "Efficiency" ) +
theme( plot.title = element_text( hjust = 0.5 ),
plot.subtitle = element_text( hjust = 0.5 ) )
ggplot( topic_timeseries, aes( x=marker ) )  +
scale_x_date( date_breaks = "1 month", date_labels = "%b/%d" ) +
geom_bar( aes( y=num_questions*100/max( topic_timeseries$num_questions ) ), stat="identity", fill="white", colour="grey" ) +
geom_line( aes( y=efficiency ), stat="identity", color="blue" ) +
geom_point( aes( y=efficiency ) ) +
scale_y_continuous( sec.axis = sec_axis(~./(100/max( topic_timeseries$num_questions )), name="Num questions" ) ) +
labs( title = topic,
subtitle = subject,
x = "Date",
y = "Efficiency" ) +
theme( plot.title = element_text( hjust = 0.5 ),
plot.subtitle = element_text( hjust = 0.5 ) )
ggplot( topic_timeseries, aes( x=marker ) )  +
scale_x_date( date_breaks = "1 month", date_labels = "%B" ) +
geom_bar( aes( y=num_questions*100/max( topic_timeseries$num_questions ) ), stat="identity", fill="white", colour="grey" ) +
geom_line( aes( y=efficiency ), stat="identity", color="blue" ) +
geom_point( aes( y=efficiency ) ) +
scale_y_continuous( sec.axis = sec_axis(~./(100/max( topic_timeseries$num_questions )), name="Num questions" ) ) +
labs( title = topic,
subtitle = subject,
x = "Date",
y = "Efficiency" ) +
theme( plot.title = element_text( hjust = 0.5 ),
plot.subtitle = element_text( hjust = 0.5 ) )
ggplot( topic_timeseries, aes( x=marker ) )  +
scale_x_date( date_breaks = "1 month", date_labels = "%b" ) +
geom_bar( aes( y=num_questions*100/max( topic_timeseries$num_questions ) ), stat="identity", fill="white", colour="grey" ) +
geom_line( aes( y=efficiency ), stat="identity", color="blue" ) +
geom_point( aes( y=efficiency ) ) +
scale_y_continuous( sec.axis = sec_axis(~./(100/max( topic_timeseries$num_questions )), name="Num questions" ) ) +
labs( title = topic,
subtitle = subject,
x = "Date",
y = "Efficiency" ) +
theme( plot.title = element_text( hjust = 0.5 ),
plot.subtitle = element_text( hjust = 0.5 ) )
ggplot( topic_timeseries, aes( x=marker ) )  +
scale_x_date( date_breaks = "1 month", date_labels = "%b" ) +
geom_bar( aes( y=num_questions*100/max( topic_timeseries$num_questions ) ), stat="identity", fill="white", colour="grey" ) +
geom_line( aes( y=efficiency ), stat="identity", color="blue" ) +
geom_point( aes( y=efficiency ) ) +
scale_shape_discrete(solid=T, legend=F) +
scale_y_continuous( sec.axis = sec_axis(~./(100/max( topic_timeseries$num_questions )), name="Num questions" ) ) +
labs( title = topic,
subtitle = subject,
x = "Date",
y = "Efficiency" ) +
theme( plot.title = element_text( hjust = 0.5 ),
plot.subtitle = element_text( hjust = 0.5 ) )
ggplot( topic_timeseries, aes( x=marker ) )  +
scale_x_date( date_breaks = "1 month", date_labels = "%b" ) +
geom_bar( aes( y=num_questions*100/max( topic_timeseries$num_questions ) ), stat="identity", fill="white", colour="grey" ) +
geom_line( aes( y=efficiency ), stat="identity", color="blue" ) +
geom_point( aes( y=efficiency ) ) +
scale_shape_discrete(solid=T) +
scale_y_continuous( sec.axis = sec_axis(~./(100/max( topic_timeseries$num_questions )), name="Num questions" ) ) +
labs( title = topic,
subtitle = subject,
x = "Date",
y = "Efficiency" ) +
theme( plot.title = element_text( hjust = 0.5 ),
plot.subtitle = element_text( hjust = 0.5 ) )
ggplot( topic_timeseries, aes( x=marker ) )  +
scale_x_date( date_breaks = "1 month", date_labels = "%b" ) +
geom_bar( aes( y=num_questions*100/max( topic_timeseries$num_questions ) ), stat="identity", fill="white", colour="grey" ) +
geom_line( aes( y=efficiency ), stat="identity", color="blue" ) +
geom_point( aes( y=efficiency ) ) +
scale_shape_discrete(solid=F) +
scale_y_continuous( sec.axis = sec_axis(~./(100/max( topic_timeseries$num_questions )), name="Num questions" ) ) +
labs( title = topic,
subtitle = subject,
x = "Date",
y = "Efficiency" ) +
theme( plot.title = element_text( hjust = 0.5 ),
plot.subtitle = element_text( hjust = 0.5 ) )
ggplot( topic_timeseries, aes( x=marker ) )  +
scale_x_date( date_breaks = "1 month", date_labels = "%b" ) +
geom_bar( aes( y=num_questions*100/max( topic_timeseries$num_questions ) ), stat="identity", fill="white", colour="grey" ) +
geom_line( aes( y=efficiency ), stat="identity", color="blue", shape=23 ) +
geom_point( aes( y=efficiency ) ) +
scale_y_continuous( sec.axis = sec_axis(~./(100/max( topic_timeseries$num_questions )), name="Num questions" ) ) +
labs( title = topic,
subtitle = subject,
x = "Date",
y = "Efficiency" ) +
theme( plot.title = element_text( hjust = 0.5 ),
plot.subtitle = element_text( hjust = 0.5 ) )
ggplot( topic_timeseries, aes( x=marker ) )  +
scale_x_date( date_breaks = "1 month", date_labels = "%b" ) +
geom_bar( aes( y=num_questions*100/max( topic_timeseries$num_questions ) ), stat="identity", fill="white", colour="grey" ) +
geom_line( aes( y=efficiency ), stat="identity", color="blue" ) +
geom_point( aes( y=efficiency ), shape=23 ) +
scale_y_continuous( sec.axis = sec_axis(~./(100/max( topic_timeseries$num_questions )), name="Num questions" ) ) +
labs( title = topic,
subtitle = subject,
x = "Date",
y = "Efficiency" ) +
theme( plot.title = element_text( hjust = 0.5 ),
plot.subtitle = element_text( hjust = 0.5 ) )
ggplot( topic_timeseries, aes( x=marker ) )  +
scale_x_date( date_breaks = "1 month", date_labels = "%b" ) +
geom_bar( aes( y=num_questions*100/max( topic_timeseries$num_questions ) ), stat="identity", fill="white", colour="grey" ) +
geom_line( aes( y=efficiency ), stat="identity", color="blue" ) +
geom_point( aes( y=efficiency ), shape=23, size=5 ) +
scale_y_continuous( sec.axis = sec_axis(~./(100/max( topic_timeseries$num_questions )), name="Num questions" ) ) +
labs( title = topic,
subtitle = subject,
x = "Date",
y = "Efficiency" ) +
theme( plot.title = element_text( hjust = 0.5 ),
plot.subtitle = element_text( hjust = 0.5 ) )
ggplot( topic_timeseries, aes( x=marker ) )  +
scale_x_date( date_breaks = "1 month", date_labels = "%b" ) +
geom_bar( aes( y=num_questions*100/max( topic_timeseries$num_questions ) ), stat="identity", fill="white", colour="grey" ) +
geom_line( aes( y=efficiency ), stat="identity", color="blue" ) +
geom_point( aes( y=efficiency ), shape=23, size=3 ) +
scale_y_continuous( sec.axis = sec_axis(~./(100/max( topic_timeseries$num_questions )), name="Num questions" ) ) +
labs( title = topic,
subtitle = subject,
x = "Date",
y = "Efficiency" ) +
theme( plot.title = element_text( hjust = 0.5 ),
plot.subtitle = element_text( hjust = 0.5 ) )
ggplot( topic_timeseries, aes( x=marker ) )  +
scale_x_date( date_breaks = "1 month", date_labels = "%b" ) +
geom_bar( aes( y=num_questions*100/max( topic_timeseries$num_questions ) ), stat="identity", fill="white", colour="grey" ) +
geom_line( aes( y=efficiency ), stat="identity", color="blue" ) +
geom_point( aes( y=efficiency ), shape=22, size=3 ) +
scale_y_continuous( sec.axis = sec_axis(~./(100/max( topic_timeseries$num_questions )), name="Num questions" ) ) +
labs( title = topic,
subtitle = subject,
x = "Date",
y = "Efficiency" ) +
theme( plot.title = element_text( hjust = 0.5 ),
plot.subtitle = element_text( hjust = 0.5 ) )
ggplot( topic_timeseries, aes( x=marker ) )  +
scale_x_date( date_breaks = "1 month", date_labels = "%b" ) +
geom_bar( aes( y=num_questions*100/max( topic_timeseries$num_questions ) ), stat="identity", fill="white", colour="grey" ) +
geom_line( aes( y=efficiency ), stat="identity", color="blue" ) +
geom_point( aes( y=efficiency ), shape=21, size=3 ) +
scale_y_continuous( sec.axis = sec_axis(~./(100/max( topic_timeseries$num_questions )), name="Num questions" ) ) +
labs( title = topic,
subtitle = subject,
x = "Date",
y = "Efficiency" ) +
theme( plot.title = element_text( hjust = 0.5 ),
plot.subtitle = element_text( hjust = 0.5 ) )
ggplot( topic_timeseries, aes( x=marker ) )  +
scale_x_date( date_breaks = "1 month", date_labels = "%b" ) +
geom_bar( aes( y=num_questions*100/max( topic_timeseries$num_questions ) ), stat="identity", fill="white", colour="grey" ) +
geom_line( aes( y=efficiency ), stat="identity", color="blue" ) +
geom_point( aes( y=efficiency ), shape=21, size=3, fill="blue" ) +
scale_y_continuous( sec.axis = sec_axis(~./(100/max( topic_timeseries$num_questions )), name="Num questions" ) ) +
labs( title = topic,
subtitle = subject,
x = "Date",
y = "Efficiency" ) +
theme( plot.title = element_text( hjust = 0.5 ),
plot.subtitle = element_text( hjust = 0.5 ) )
ggplot( topic_timeseries, aes( x=marker ) )  +
scale_x_date( date_breaks = "1 month", date_labels = "%b" ) +
geom_bar( aes( y=num_questions*100/max( topic_timeseries$num_questions ) ), stat="identity", fill="white", colour="grey" ) +
geom_line( aes( y=efficiency ), stat="identity", color="blue" ) +
geom_point( aes( y=efficiency ), shape=21, size=3, fill="lightblue" ) +
scale_y_continuous( sec.axis = sec_axis(~./(100/max( topic_timeseries$num_questions )), name="Num questions" ) ) +
labs( title = topic,
subtitle = subject,
x = "Date",
y = "Efficiency" ) +
theme( plot.title = element_text( hjust = 0.5 ),
plot.subtitle = element_text( hjust = 0.5 ) )
subject <- "IIT - Maths"
topic <- "Trigonometry"
topic_timeseries <- getTopicTimeSeries( subject, topic )
ggplot( topic_timeseries, aes( x=marker ) )  +
scale_x_date( date_breaks = "1 month", date_labels = "%b" ) +
geom_bar( aes( y=num_questions*100/max( topic_timeseries$num_questions ) ), stat="identity", fill="white", colour="grey" ) +
geom_line( aes( y=efficiency ), stat="identity", color="blue" ) +
geom_point( aes( y=efficiency ), shape=21, size=3, fill="lightblue" ) +
scale_y_continuous( sec.axis = sec_axis(~./(100/max( topic_timeseries$num_questions )), name="Num questions" ) ) +
labs( title = topic,
subtitle = subject,
x = "Date",
y = "Efficiency" ) +
theme( plot.title = element_text( hjust = 0.5 ),
plot.subtitle = element_text( hjust = 0.5 ) )
ggplot( topic_timeseries, aes( x=marker ) )  +
scale_x_date( date_breaks = "1 month", date_labels = "%b" ) +
geom_bar( aes( y=num_questions*100/(max( topic_timeseries$num_questions )*2) ), stat="identity", fill="white", colour="grey" ) +
geom_line( aes( y=efficiency ), stat="identity", color="blue" ) +
geom_point( aes( y=efficiency ), shape=21, size=3, fill="lightblue" ) +
scale_y_continuous( sec.axis = sec_axis(~./(100/(max( topic_timeseries$num_questions )*2)), name="Num questions" ) ) +
labs( title = topic,
subtitle = subject,
x = "Date",
y = "Efficiency" ) +
theme( plot.title = element_text( hjust = 0.5 ),
plot.subtitle = element_text( hjust = 0.5 ) )
numq_scale_factor <- 100/(max( topic_timeseries$num_questions )*2)
ggplot( topic_timeseries, aes( x=marker ) )  +
scale_x_date( date_breaks = "1 month", date_labels = "%b" ) +
geom_bar( aes( y=num_questions*numq_scale_factor ), stat="identity", fill="white", colour="grey" ) +
geom_line( aes( y=efficiency ), stat="identity", color="blue" ) +
geom_point( aes( y=efficiency ), shape=21, size=3, fill="lightblue" ) +
scale_y_continuous( sec.axis = sec_axis(~./numq_scale_factor, name="Num questions" ) ) +
labs( title = topic,
subtitle = subject,
x = "Date",
y = "Efficiency" ) +
theme( plot.title = element_text( hjust = 0.5 ),
plot.subtitle = element_text( hjust = 0.5 ) )
source('~/projects/source/JEEPrepAnalysis/R/10_test_data_analysis.R', echo=TRUE)
subject <- "IIT - Maths"
topic <- "Permutations And Combinations"
topic_timeseries <- getTopicTimeSeries( subject, topic )
plotTopicEfficiencyTimeSeries( topic_timeseries, subject, topic )
subject <- "IIT - Maths"
topic <- "Complex Numbers"
topic_timeseries <- getTopicTimeSeries( subject, topic )
plotTopicEfficiencyTimeSeries( topic_timeseries, subject, topic )
for(i in 1:nrow(topics)) {
topic <- topics[i, ]
print( paste( topic$subject_name, topic$topic_name ) )
}
for(i in 1:nrow(topics)) {
topicRow <- topics[i, ]
subject <- topicRow$subject_name
topic <- topicRow$topic_name
topic_timeseries <- getTopicTimeSeries( subject, topic )
plotTopicEfficiencyTimeSeries( topic_timeseries, subject, topic )
}
source('~/projects/source/JEEPrepAnalysis/R/10_test_data_analysis.R', echo=TRUE)
source('~/projects/source/JEEPrepAnalysis/R/10_test_data_analysis.R', echo=TRUE)
for( i in 1:nrow(topics) ) {
topicRow <- topics[i, ]
subject <- topicRow$subject_name
topic <- topicRow$topic_name
outputDir <- paste0( WD$output, "/", subject, "/", topic )
outputFile <- paste0( outputDir, "/graph.png" )
dir.create( paste0( WD$output, "/", subject ) )
dir.create( paste0( WD$output, "/", subject, "/", topic ) )
topic_timeseries <- getTopicTimeSeries( subject, topic )
plotTopicEfficiencyTimeSeries( topic_timeseries, subject, topic, outputFile )
}
for( i in 1:nrow(topics) ) {
topicRow <- topics[i, ]
subject <- topicRow$subject_name
topic <- topicRow$topic_name
outputDir <- paste0( WD$output, "/", subject, "/", topic )
outputFile <- paste0( outputDir, "/graph.png" )
dir.create( paste0( WD$output, "/", subject ) )
dir.create( paste0( WD$output, "/", subject, "/", topic ) )
topic_timeseries <- getTopicTimeSeries( subject, topic )
plotTopicEfficiencyTimeSeries( topic_timeseries, subject, topic, outputFile )
}
warnings()
source('~/projects/source/JEEPrepAnalysis/R/10_test_data_analysis.R', echo=TRUE)
source('~/projects/source/JEEPrepAnalysis/R/10_test_data_analysis.R', echo=TRUE)
source('~/projects/source/JEEPrepAnalysis/R/10_test_data_analysis.R', echo=TRUE)
source('~/projects/source/JEEPrepAnalysis/R/10_test_data_analysis.R', echo=TRUE)
source('~/projects/source/JEEPrepAnalysis/R/10_test_data_analysis.R', echo=TRUE)
source('~/projects/source/JEEPrepAnalysis/R/10_test_data_analysis.R', echo=TRUE)
source('~/projects/source/JEEPrepAnalysis/R/10_test_data_analysis.R', echo=TRUE)
source('~/projects/source/JEEPrepAnalysis/R/10_test_data_analysis.R', echo=TRUE)
source('~/projects/source/JEEPrepAnalysis/R/10_test_data_analysis.R', echo=TRUE)
source('~/projects/source/JEEPrepAnalysis/R/10_test_data_analysis.R', echo=TRUE)
source('~/projects/source/JEEPrepAnalysis/R/10_test_data_analysis.R', echo=TRUE)
source('~/projects/source/JEEPrepAnalysis/R/10_test_data_analysis.R', echo=TRUE)
source('~/projects/source/JEEPrepAnalysis/R/10_test_data_analysis.R', echo=TRUE)
source('~/projects/source/JEEPrepAnalysis/R/10_test_data_analysis.R', echo=TRUE)
source('~/projects/source/JEEPrepAnalysis/R/10_test_data_analysis.R', echo=TRUE)
source('~/projects/source/JEEPrepAnalysis/R/10_test_data_analysis.R', echo=TRUE)
source('~/projects/source/JEEPrepAnalysis/R/10_test_data_analysis.R', echo=TRUE)
